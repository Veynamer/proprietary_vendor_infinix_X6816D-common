on property:persist.sys.device_provisioned=1 && property:persist.sys.oobe_country=IN && property:persist.vendor.dualapp.support=yes
    setprop ro.com.google.rlz_ap_whitelist YA
    setprop ro.com.google.rlzbrandcode TSSN

on property:persist.vendor.cam.country=*
    setprop persist.vendor.country ${persist.vendor.cam.country}

 on init
    insmod ${ro.vendor.ko.mount.point}/odmko/adaptive-ts.ko

on post-fs
    restorecon /tranfs/
    chown system system /tranfs/
    chmod 660 /dev/tranlog
    chown root system /dev/tranlog
    insmod ${ro.vendor.ko.mount.point}/odmko/adaptive-ts.ko

on boot
	chmod 666 sys/devices/virtual/touchscreen/light_suspend/ts_suspend
	chown root system sys/devices/virtual/touchscreen/light_suspend/ts_suspend
    chmod 0664 /sys/devices/platform/extcon-gpio/extcon_hostenable
    chown system system /sys/devices/platform/extcon-gpio/extcon_hostenable
    chmod 0664 /sys/devices/platform/extcon-gpio/extcon_otg_status
    chown system system /sys/devices/platform/extcon-gpio/extcon_otg_status
    chmod 0664 /sys/devices/platform/extcon-gpio/extcon_is_support_otg
    chown system system /sys/devices/platform/extcon-gpio/extcon_is_support_otg
    chmod 0664 /sys/devices/platform/extcon-gpio/extcon_otg_id
    chown system system /sys/devices/platform/extcon-gpio/extcon_otg_id
	chmod 0664 /sys/devices/platform/soc/soc:aon/32100000.spi/spi_master/spi4/spi4.0/sc27xx-typec/typec_hostenable
    chown system system /sys/devices/platform/soc/soc:aon/32100000.spi/spi_master/spi4/spi4.0/sc27xx-typec/typec_hostenable
    chmod 0664 /sys/devices/platform/soc/soc:aon/32100000.spi/spi_master/spi4/spi4.0/sc27xx-typec/typec_otg_status
    chown system system /sys/devices/platform/soc/soc:aon/32100000.spi/spi_master/spi4/spi4.0/sc27xx-typec/typec_otg_status
    chmod 0664 /sys/devices/platform/soc/soc:aon/32100000.spi/spi_master/spi4/spi4.0/sc27xx-typec/typec_is_support_otg
    chown system system /sys/devices/platform/soc/soc:aon/32100000.spi/spi_master/spi4/spi4.0/sc27xx-typec/typec_is_support_otg
    chmod 0664 /sys/devices/platform/soc/soc:aon/32100000.spi/spi_master/spi4/spi4.0/sc27xx-typec/typec_otg_id
    chown system system /sys/devices/platform/soc/soc:aon/32100000.spi/spi_master/spi4/spi4.0/sc27xx-typec/typec_otg_id
    chmod 0664 /proc/lcd_cmd/display_timings
    chown system system /proc/lcd_cmd/display_timings
    chmod 0664 /proc/lcd_cmd/power_off_sequence
    chown system system /proc/lcd_cmd/power_off_sequence
    chmod 0664 /proc/lcd_cmd/power_on_sequence
    chown system system /proc/lcd_cmd/power_on_sequence
    chmod 0664 /proc/lcd_cmd/suspend_cmd
    chown system system /proc/lcd_cmd/suspend_cmd
    chmod 0664 /proc/lcd_cmd/resume_cmd
    chown system system /proc/lcd_cmd/resume_cmd
    chmod 0664 /proc/lcd_cmd/init_cmd
    chown system system /proc/lcd_cmd/init_cmd
    chown system system /sys/class/power_supply/battery/transsion_charge_type
    chown system system /sys/transsion/misc/fp_match
    chmod 0666 /sys/class/power_supply/battery/thermal_current
    chown system system /sys/class/power_supply/battery/thermal_current
    chmod 0666 /sys/class/power_supply/battery/transsion_call_limit
    chown system system /sys/class/power_supply/battery/transsion_call_limit
    chmod 0664 /sys/class/backlight/sprd_backlight/cabc_adaption
    chown system system /sys/class/backlight/sprd_backlight/cabc_adaption
    chmod 0664 /sys/class/backlight/sprd_backlight/brightness_ext
    chown system system /sys/class/backlight/sprd_backlight/brightness_ext
    chown system system /sys/class/sprd_sensorhub_tp/device/psensor_enable
    chmod 660 /sys/class/sprd_sensorhub_tp/device/psensor_enable
    chown system system /sys/class/sprd_sensorhub_tp/device/psensor_flush
    chmod 660 /sys/class/sprd_sensorhub_tp/device/psensor_flush
    restorecon -R /sys/board_properties/virtualkeys.adaptive_ts
    # add for sleep_mode
    chmod 0664 /sys/class/switch/sleep_mode/enable_sleep_mode
    chown system system /sys/class/switch/sleep_mode/enable_sleep_mode
    chmod 0664 /sys/class/switch/sleep_mode/start_seconds
    chown system system /sys/class/switch/sleep_mode/start_seconds
    chmod 0664 /sys/class/switch/sleep_mode/end_seconds
    chown system system /sys/class/switch/sleep_mode/end_seconds
    #add for tp gesture
    chmod 0664 /sys/transsion/gesture/global_enable
    chown system system /sys/transsion/gesture/global_enable
    chmod 0220 /sys/transsion/gesture/single_disable
    chown system system /sys/transsion/gesture/single_disable
    chmod 0664 /sys/transsion/gesture/single_enable
    chown system system /sys/transsion/gesture/single_enable
    chmod 0444 /sys/transsion/gesture/support
    chown system system /sys/transsion/gesture/support
    #add for Sprd platform support MTK flash device node
    chmod 0666 /sys/class/torch/torch/torch_level
    chown system system /sys/class/torch/torch/torch_level
    chmod 0666 /sys/class/sub_torch/sub_torch/sub_torch_level
    chown system system sys/class/sub_torch/sub_torch/sub_torch_level
    chmod 0666 /sys/devices/virtual/torch/torch/torch_level
    chown system system /sys/devices/virtual/torch/torch/torch_level
    chmod 0666 /sys/devices/virtual/sub_torch/sub_torch/sub_torch_level
    chown system system /sys/devices/virtual/sub_torch/sub_torch/sub_torch_level
    #SR_18602662 add multi device name 20210514 start
    chmod a+x config/usb_gadget/g1
    chmod a+x config/usb_gadget/g1/strings/0x409
    chmod 0666 /config/usb_gadget/g1/strings/0x409/product
    #SR_18602662 add multi device name 20210514 end
    #add for battery_aging
    chown system system /sys/devices/platform/tran_battery_aging/AGING_CALCULATE
    chown system system /sys/devices/platform/tran_battery_aging/AGING_RESET
    chmod 0660 /dev/st21nfc
    chown nfc nfc /dev/st21nfc
    
on factorytest-start
    insmod ${ro.vendor.ko.mount.point}/odmko/adaptive-ts.ko
    chown system system /sys/class/sprd_sensorhub_tp/device/psensor_enable
    chmod 660 /sys/class/sprd_sensorhub_tp/device/psensor_enable
    chown system system /sys/class/sprd_sensorhub_tp/device/psensor_flush
    chmod 660 /sys/class/sprd_sensorhub_tp/device/psensor_flush

on property:ro.boot.iteldebug=1 && property:ro.debuggable=0
    start console

# tanghulin add for optimize boot time. 2022-02-22 start
on post-fs-data
    chown system system /mnt/vendor/productinfo/sensor_calibration_data/light
    chmod 666 /mnt/vendor/productinfo/sensor_calibration_data/light
    chown system system /mnt/vendor/productinfo/sensor_calibration_data/proximity
    chmod 666 /mnt/vendor/productinfo/sensor_calibration_data/proximity
    chown system system /mnt/vendor/productinfo/sensor_calibration_data/acc
    chmod 666 /mnt/vendor/productinfo/sensor_calibration_data/acc

    # boot time fs tune
    write /sys/block/mmcblk0/queue/iostats 0
    write /sys/block/mmcblk0/queue/read_ahead_kb 2048
    write /sys/block/mmcblk0/queue/nr_requests 256
    write /sys/block/dm-0/queue/read_ahead_kb 2048
    write /sys/block/dm-1/queue/read_ahead_kb 2048
    write /sys/block/dm-2/queue/read_ahead_kb 2048
    write /sys/block/dm-3/queue/read_ahead_kb 2048
    write /sys/block/dm-4/queue/read_ahead_kb 2048
    write /sys/block/dm-5/queue/read_ahead_kb 2048
    write /sys/block/dm-5/queue/read_ahead_kb 2048
    write /sys/block/dm-6/queue/read_ahead_kb 2048
    write /sys/block/dm-7/queue/read_ahead_kb 2048

#After bootcompleted,set these values to normal
on property:sys.boot_completed=1
    write /sys/block/mmcblk0/queue/iostats 1
    write /sys/block/mmcblk0/queue/read_ahead_kb 512
    write /sys/block/mmcblk0/queue/nr_requests 128
    write /sys/block/dm-0/queue/read_ahead_kb 128
    write /sys/block/dm-1/queue/read_ahead_kb 128
    write /sys/block/dm-2/queue/read_ahead_kb 128
    write /sys/block/dm-3/queue/read_ahead_kb 128
    write /sys/block/dm-4/queue/read_ahead_kb 128
    write /sys/block/dm-5/queue/read_ahead_kb 128
    write /sys/block/dm-6/queue/read_ahead_kb 128
    write /sys/block/dm-7/queue/read_ahead_kb 128

# tanghulin add for optimize boot time. 2022-02-22 start
